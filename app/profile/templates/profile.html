{% extends "base.html" %}
{% block title %}Profile · JobTrackr{% endblock %}
{% block content %}

<div class="profile-container">
  <h1>Your Profile</h1>

  {% if not name and not grad_term %}
  <p style="margin-bottom: 2rem;">No profile details yet — click below to add them!</p>
  {% endif %}

  <form method="POST" id="profile-form" class="profile-form" style="display:none;">
    <div class="profile-field">
      <label>Email</label>
      <input type="text" name="email" value="{{ email }}" readonly>
    </div>
    <div class="profile-field">
      <label>Name</label>
      <input type="text" name="name" value="{{ name }}" placeholder="Add your name..." />
    </div>
    <div class="profile-field">
      <label>Graduation Term</label>
      <input type="text" name="graduation_term" value="{{ grad_term }}" placeholder="e.g. Spring 2026" />
    </div>
    <button class="profile-save-btn" type="submit">Save Changes</button>
  </form>

  <div id="profile-view">
    <div class="profile-field-view">
      <label>Email</label>
      <p>{{ email }}</p>
    </div>
    <div class="profile-field-view">
      <label>Name</label>
      <p>{{ name or "—" }}</p>
    </div>
    <div class="profile-field-view">
      <label>Graduation Term</label>
      <p>{{ grad_term or "—" }}</p>
    </div>
    <button class="profile-save-btn" onclick="toggleEdit(true)">Edit Profile</button>
  </div>
</div>

<script>
  function toggleEdit(editMode) {
    const form = document.getElementById("profile-form");
    const view = document.getElementById("profile-view");
    if (editMode) {
      form.style.display = "block";
      view.style.display = "none";
    } else {
      form.style.display = "none";
      view.style.display = "block";
    }
  }
</script>

{% endblock %}